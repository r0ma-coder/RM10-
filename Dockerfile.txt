FROM python:3.11-slim

WORKDIR /app

# Очищаем кэш apt для экономии места
RUN apt-get clean && rm -rf /var/lib/apt/lists/*

# Копируем минимальные файлы
COPY requirements.txt .
COPY *.py ./

# Устанавливаем только необходимые зависимости
RUN pip install --no-cache-dir aiogram==3.0.0 telethon==1.34.0

# Создаем необходимые директории
RUN mkdir -p results

# Запускаем бота
CMD ["python", "frontend_bot.py"]